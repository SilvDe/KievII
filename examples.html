<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>KievII - Examples</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    
    <script src="assets/js/rainbow/rainbow-custom.min.js"></script>
	<script type="text/javascript" src="http://code.jquery.com/jquery-1.7.2.min.js"></script>
	<script type="text/javascript" src="KievII/kievII.min.js"></script>
	<script type="text/javascript">
    function highlightCode (code, divName) {
        console.log ("Highlighting ", /*code,*/ divName);
        var div = document.createElement('div');
            div.innerHTML = '<pre><code data-language="javascript">' + code + '</code></pre>';
            Rainbow.color(div, function() {
                document.getElementById(divName).appendChild(div);
            });
            console.log ("Highlighted ", /*code,*/ divName);
    }
    </script>
	
	<script type="text/javascript" >
	var START_TOKEN = '// !VIEWABLEDOCSTART',
		END_TOKEN = '// !VIEWABLEDOCEND';
	</script>

    <!-- Le styles -->
    <link href="bootstrap/css/bootstrap.css" rel="stylesheet">
    <link href="bootstrap/css/bootstrap-responsive.css" rel="stylesheet">
    <link href="assets/css/rainbow/themes/obsidian.css" rel="stylesheet" type="text/css">
    <link href="css/kievii.css" rel="stylesheet" type="text/css">
	
	<style>
	.thumbnails {
	    text-align: center
	}
	.thumbnail .caption {
	    text-align: left
	}
	</style>

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="assets/ico/favicon.ico">
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../assets/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../assets/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="../assets/ico/apple-touch-icon-57-precomposed.png">
  </head>
	<body>
	
	<div class="navbar navbar-fixed-top navbar-inverse">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="#">KievII</a>
          <div class="nav-collapse">
            <ul class="nav">
              <li class="active"><a href="index.html">Home</a></li>
              <li class="dropdown">
                  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Examples<b class="caret"></b></a>
                  <ul class="dropdown-menu">
                    <li><a href="#gaugetest">Gauge</a></li>
                    <li><a href="#curvetest">Curve</a></li>
                    <li><a href="#bartest">Bar</a></li>
                    <li><a href="#rotknobtest">RotKnob</a></li>
                  </ul>
              </li>
              <li class="divider-vertical"></li>
              <li><a href="https://github.com/janesconference/KievII">Code</a></li>
              <li class="divider-vertical"></li>
              <li><a href="http://twitter.com/kievII_library"><i class="icon-user icon-white"></i> KievII on Twitter</a></li>
              <li><a href="http://bitterspring.net/blog"><i class="icon-globe icon-white"></i> Author's blog</a></li>
              <li class="dropdown">
                  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Contacts<b class="caret"></b></a>
                  <ul class="dropdown-menu">
                    <li><a href="mailto:janesconference@bitterspring.net"><i class="icon-envelope"></i> Author's E-mail</a></li>
                    <li><a href="http://twitter.com/janesconference"><i class="icon-user"></i> Author's Twitter</a></li>
                    <li><a href="http://groups.google.com/group/kievii"><i class="icon-globe"></i> Google Group</a></li>
                  </ul>
              </li>
            </ul>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

<div class="container" id='mainContainer'>

<h2>Base Elements</h2>
        
</div>        

    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
     <script src="bootstrap/js/bootstrap.js"></script>
     <script type="text/javascript">
         $('.dropdown-toggle').dropdown();
         
         function buildSection (buildArray, baseUrl) {
             var html = '';
                    
             for (var i = 0; i < buildArray.length; i += 1) {
                 var cE = buildArray[i];
                 if ((i % 3) === 0) {
                     if (i !== 0) {
                         html += '</div>';
                         html += '</ul>';
                      }
                      html += '<div class="row-fluid">';
                      html += '<ul class="thumbnails">';
                  }
                  html += '<li class="span' + cE[2] * 4 + '"> <div class="thumbnail">';
                  /* TODO width, height, class */
                  var canvas_name = cE[0].toLowerCase() + '_canvas';
                  html += '<canvas class="exampleCanvas" width="' + 360 * cE[2] + '" height="340" id="' + canvas_name + '"></canvas>';
                  html += '<div class="caption">';
                  html += '<h3>' + cE[0] + '</h3>';
                  html += '<p>' + cE[3];
                  var url = baseUrl + cE[0] + '/' + cE[0].toLowerCase() + 'test.js';
                  /* TODO */
                  html += '<a href="' + url + '" class="btn btn-inverse btn-small pull-right">Code</a></p>';
                  html += '</div></div></li>';
                  
                  (function (object_name, canvas_name, parameters) {
                      $.ajax({
                        url: url,
                        dataType: 'script',
                        cache: true, // otherwise will get fresh copy every page load
                        success: function(data, textStatus, jqxhr) {
                            window[object_name].init(document.getElementById(canvas_name), parameters);
                        }
                      });
                   })(cE[0]+'Test', canvas_name, cE[1]);
             }
             html += '</div>';
             html += '</ul>';
             return html;
         }
		 
		 var kiev2TestURL = 'KievII/tests/'; 
		 var baseElementsArray = [
		                  ["RotKnob", ['KievII/tests/RotKnob/assets/img/white_big.png'], 1, 'Single-image rotating knob'],
		                  ["Gauge", undefined, 1, 'Gauge-like selector'],
		                  ["Curve", undefined, 1, '3 draggable and positionable curves'],
		                  ["Area", undefined, 1, 'Draggable and resizable area'],
		                  ["Bar", undefined, 1, 'Positionable bar'],
		                  ["ClickBar", undefined, 1, 'Eight ClickBar selectors in a row'],
		                  ["Button", ['KievII/tests/Button/assets/img/state0.png', 'KievII/tests/Button/assets/img/state1.png', 'KievII/tests/Button/assets/img/state2.png'], 1, '3-state button with images'],
		                  ["Slider", ['KievII/tests/Slider/assets/img/hsliderslot.png', 'KievII/tests/Slider/assets/img/hsliderhandle.png'], 1, 'Slider w/ images (also available in vertical)'],
		                  ["Wavebox", undefined, 1, 'Custom waveform visualization'],
		                  ];
		 
		 var columnCounter = 0;      
		 
		 var html = buildSection (baseElementsArray, kiev2TestURL);
		 $('#mainContainer').append(html);
		 
		 var versionInfo = '';
		 if (typeof K2.version !== 'undefined') {
		      versionInfo = '<small class="muted pull-right">KievII version: ' + K2.version + '</small>';
		  }
		 
		 html = '<footer><p>&copy; Bitterspring.net 2012 ' + versionInfo + '</p></footer>';
		 $('#mainContainer').append(html);
		 
     </script>
	  
	</body>
</html>